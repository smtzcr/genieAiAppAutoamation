# GenieChat iOS Appium Test Automation

Bu proje, GenieChat iOS uygulamasÄ± iÃ§in Appium kullanarak yazÄ±lmÄ±ÅŸ otomasyon test framework'Ã¼dÃ¼r. Page Object Model (POM) pattern'Ä± ile geliÅŸtirilmiÅŸtir.

## ğŸ“‹ Ã–zellikler

- âœ… Page Object Model (POM) tasarÄ±m deseni
- âœ… unittest framework kullanÄ±mÄ±
- âœ… iOS cihaz Ã¼zerinde test desteÄŸi
- âœ… AI model seÃ§imi otomasyonu
- âœ… Mesaj gÃ¶nderme ve cevap doÄŸrulama
- âœ… Ekran gÃ¶rÃ¼ntÃ¼sÃ¼ alma
- âœ… DetaylÄ± raporlama

## ğŸ›  Gereksinimler

### YazÄ±lÄ±mlar
- Python 3.8+
- Xcode 12.0+
- Appium 2.x
- iOS cihaz (fiziksel)
- macOS (iOS testleri iÃ§in zorunlu)

### Python Paketleri
```bash
pip install -r requirements.txt
```

## ğŸ“¦ Kurulum

### 1. Appium Kurulumu

```bash
# Homebrew ile Appium
brew install appium

# XCUITest driver
appium driver install xcuitest@7.35.0
```

### 2. WebDriverAgent Ä°mzalama

WebDriverAgent'Ä± Xcode ile imzalamanÄ±z gerekiyor:

```bash
cd ~/.appium/node_modules/appium-xcuitest-driver/node_modules/appium-webdriveragent
open WebDriverAgent.xcodeproj
```

Xcode'da:
1. **WebDriverAgentRunner** ve **WebDriverAgentLib** target'larÄ±nÄ± seÃ§in
2. **Signing & Capabilities** sekmesinde:
   - â˜‘ï¸ Automatically manage signing
   - Team: Apple ID'nizi seÃ§in
   - Bundle Identifier'Ä± deÄŸiÅŸtirin: `com.yourname.WebDriverAgentRunner`

### 3. iOS Cihaz HazÄ±rlÄ±ÄŸÄ±

1. **Ayarlar** > **Gizlilik ve GÃ¼venlik** > **GeliÅŸtirici Modu** â†’ AÃ§
2. UDID'nizi alÄ±n:
```bash
idevice_id -l
```
3. `config/config.py` dosyasÄ±nda UDID'nizi gÃ¼ncelleyin

### 4. GeliÅŸtirici GÃ¼veni

Ä°lk test Ã§alÄ±ÅŸtÄ±rmasÄ±ndan sonra:
- **Ayarlar** > **Genel** > **VPN ve Cihaz YÃ¶netimi**
- Apple ID'nize gÃ¼ven verin

### 5. Proje Kurulumu

```bash
# Projeyi klonlayÄ±n veya indirin
cd genie_appium_tests

# Sanal ortam oluÅŸturun (opsiyonel ama Ã¶nerilir)
python3 -m venv venv
source venv/bin/activate

# BaÄŸÄ±mlÄ±lÄ±klarÄ± yÃ¼kleyin
pip install -r requirements.txt
```

## ğŸš€ KullanÄ±m

### Appium Sunucusunu BaÅŸlatma

```bash
# Terminal 1
appium
```

### Testleri Ã‡alÄ±ÅŸtÄ±rma

```bash
# Terminal 2 - TÃ¼m testleri Ã§alÄ±ÅŸtÄ±r
python3 -m unittest discover -s tests -v

# Belirli bir test Ã§alÄ±ÅŸtÄ±r
python3 -m unittest tests.test_genie_chat.GenieChatiOSTest.test_send_message_with_free_model_and_verify_response -v

# KÄ±sa yol
cd tests
python3 test_genie_chat.py
```

## ğŸ“ Proje YapÄ±sÄ±

```
genie_appium_tests/
â”‚
â”œâ”€â”€ README.md                          # Bu dosya
â”œâ”€â”€ requirements.txt                   # Python baÄŸÄ±mlÄ±lÄ±klarÄ±
â”‚
â”œâ”€â”€ config/                            # KonfigÃ¼rasyon
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ config.py                      # Test ayarlarÄ± (UDID, bundle ID, vb.)
â”‚
â”œâ”€â”€ pages/                             # Page Object sÄ±nÄ±flarÄ±
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ base_page.py                   # Temel page sÄ±nÄ±fÄ±
â”‚   â””â”€â”€ genie_chat_page.py             # GenieChat sayfasÄ±
â”‚
â”œâ”€â”€ tests/                             # Test dosyalarÄ±
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ test_genie_chat.py             # GenieChat test senaryolarÄ±
â”‚
â””â”€â”€ utils/                             # YardÄ±mcÄ± fonksiyonlar
    â”œâ”€â”€ __init__.py
    â””â”€â”€ driver_factory.py              # Appium driver factory
```

## ğŸ§ª Test SenaryolarÄ±

### test_send_message_with_free_model_and_verify_response

**AmaÃ§:** Ãœcretsiz AI modeli ile mesaj gÃ¶nderme ve cevap alma testi

**AdÄ±mlar:**
1. GenieChat uygulamasÄ±nÄ± aÃ§
2. Ãœcretsiz GPT-5-Nano modelini seÃ§
3. "Merhaba, nasÄ±lsÄ±n?" mesajÄ±nÄ± yaz ve gÃ¶nder
4. MesajÄ±n gÃ¶nderildiÄŸini doÄŸrula
5. AI'dan cevap geldiÄŸini doÄŸrula (sayfa iÃ§eriÄŸi artÄ±ÅŸÄ±)
6. Ekran gÃ¶rÃ¼ntÃ¼sÃ¼ al

**Beklenen SonuÃ§:** Mesaj baÅŸarÄ±yla gÃ¶nderilir ve AI'dan cevap alÄ±nÄ±r

## ğŸ”§ YapÄ±landÄ±rma

### config/config.py

Test ayarlarÄ±nÄ± bu dosyada dÃ¼zenleyebilirsiniz:

```python
class Config:
    PLATFORM_NAME = 'iOS'
    DEVICE_NAME = 'iPhone'
    UDID = '00008110-000965D61402601E'  # Kendi UDID'nizi girin
    BUNDLE_ID = 'co.appnation.geniechat'
    AUTOMATION_NAME = 'XCUITest'
    NO_RESET = True
    APPIUM_SERVER = 'http://127.0.0.1:4723'
```

## ğŸ“Š Test Ã‡Ä±ktÄ±sÄ±

Test Ã§alÄ±ÅŸtÄ±rÄ±ldÄ±ÄŸÄ±nda detaylÄ± log Ã§Ä±ktÄ±sÄ± alÄ±rsÄ±nÄ±z:

```
============================================================
ğŸš€ Test sÄ±nÄ±fÄ± baÅŸlatÄ±lÄ±yor...
============================================================
âœ… Appium baÄŸlantÄ±sÄ± kuruldu

test_send_message_with_free_model_and_verify_response ...
â–¶ï¸  Test baÅŸlÄ±yor: test_send_message_with_free_model_and_verify_response
------------------------------------------------------------

============================================================
PART 1: ÃœCRETSIZ MODEL SEÃ‡Ä°MÄ°
============================================================
ğŸ¤– Model dropdown aÃ§Ä±lÄ±yor...
ğŸ“Š Åu anki model: DeepSeek
âœ… Model dropdown aÃ§Ä±ldÄ±
ğŸ” 'GPT-5-Nano' aranÄ±yor...
âŒ¨ï¸  'GPT-5-Nano' yazÄ±lÄ±yor...
âœ… Arama tamamlandÄ±
ğŸ¯ 'GPT-5-Nano' seÃ§iliyor...
âœ… 'GPT-5-Nano' seÃ§ildi!
ğŸ“Š Yeni seÃ§ilen model: GPT-5-Nano
âœ… Model seÃ§imi baÅŸarÄ±lÄ±: GPT-5-Nano

============================================================
PART 2: MESAJ GÃ–NDERME
============================================================
ğŸ“Š Mesaj Ã¶ncesi sayfa uzunluÄŸu: 4532 karakter
ğŸ“ Mesaj yazÄ±lÄ±yor: 'Merhaba, nasÄ±lsÄ±n?'
âœ… Mesaj yazÄ±ldÄ±
ğŸ“¤ Mesaj gÃ¶nderiliyor...
âœ… GÃ¶nder butonuna basÄ±ldÄ±
âœ… Input alanÄ± temizlendi (mesaj gÃ¶nderildi)

============================================================
PART 3: AI CEVABI DOÄRULAMA
============================================================
â³ AI'dan cevap bekleniyor (15 saniye)...
ğŸ“Š Cevap sonrasÄ± sayfa uzunluÄŸu: 7891 karakter
âœ… Sayfa iÃ§eriÄŸi 3359 karakter arttÄ± (cevap alÄ±ndÄ±)
ğŸ“¸ Ekran gÃ¶rÃ¼ntÃ¼sÃ¼ kaydedildi: genie_final_test.png

============================================================
âœ… TÃœM ADIMLAR BAÅARIYLA TAMAMLANDI!
============================================================
â€¢ Model: GPT-5-Nano seÃ§ildi
â€¢ Mesaj: 'Merhaba, nasÄ±lsÄ±n?' gÃ¶nderildi
â€¢ Cevap: 3359 karakter artÄ±ÅŸ ile alÄ±ndÄ±
============================================================

ok
----------------------------------------------------------------------
Ran 1 test in 45.234s

OK
```

## ğŸ› Sorun Giderme

### Appium baÄŸlanamÄ±yor
```bash
# Appium'un Ã§alÄ±ÅŸtÄ±ÄŸÄ±ndan emin olun
appium

# Driver'larÄ±n yÃ¼klÃ¼ olduÄŸunu kontrol edin
appium driver list
```

### WebDriverAgent imzalama hatasÄ±
- Xcode'da Bundle Identifier'Ä± benzersiz yapÄ±n
- Team seÃ§imini kontrol edin
- iOS cihazda geliÅŸtirici gÃ¼veni verdiÄŸinizden emin olun

### Element bulunamÄ±yor
- Appium Inspector ile elementleri kontrol edin
- `config.py`'daki bekleme sÃ¼relerini artÄ±rÄ±n
- Uygulama versiyonunun deÄŸiÅŸip deÄŸiÅŸmediÄŸini kontrol edin

### Test baÅŸarÄ±sÄ±z oluyor
- UDID'nin doÄŸru olduÄŸundan emin olun
- Bundle ID'nin doÄŸru olduÄŸundan emin olun
- iOS cihazÄ±n Developer Mode aÃ§Ä±k olmalÄ±

## ğŸ“ Yeni Test Ekleme

1. `pages/` klasÃ¶rÃ¼nde yeni bir page object oluÅŸturun (gerekirse)
2. `tests/` klasÃ¶rÃ¼nde yeni test dosyasÄ± ekleyin
3. unittest.TestCase'den tÃ¼retin
4. Test metodunu yazÄ±n (method adÄ± `test_` ile baÅŸlamalÄ±)

Ã–rnek:
```python
def test_new_feature(self):
    """Yeni Ã¶zellik testi"""
    self.chat_page.some_new_method()
    self.assertTrue(result)
```

## ğŸ¤ KatkÄ±da Bulunma

1. Fork yapÄ±n
2. Feature branch oluÅŸturun (`git checkout -b feature/amazing-feature`)
3. DeÄŸiÅŸikliklerinizi commit edin (`git commit -m 'Add amazing feature'`)
4. Branch'inizi push edin (`git push origin feature/amazing-feature`)
5. Pull Request aÃ§Ä±n

## ğŸ“„ Lisans

Bu proje eÄŸitim amaÃ§lÄ± oluÅŸturulmuÅŸtur.

## ğŸ“§ Ä°letiÅŸim

SorularÄ±nÄ±z iÃ§in issue aÃ§abilirsiniz.

## ğŸ”— FaydalÄ± Linkler

- [Appium Documentation](http://appium.io/docs/en/latest/)
- [Appium Python Client](https://github.com/appium/python-client)
- [Selenium Documentation](https://selenium-python.readthedocs.io/)
- [unittest Documentation](https://docs.python.org/3/library/unittest.html)
- [Page Object Model](https://www.selenium.dev/documentation/test_practices/encouraged/page_object_models/)